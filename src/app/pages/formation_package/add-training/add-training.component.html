<div class="main-content">


   
    <div class="page-title">
        <h2 class="text-2xl font-bold text-gray-800">Ajouter une formation</h2>
    </div>
    <form [formGroup]="trainingForm" (ngSubmit)="saveTraining()" class="form-container">
        <div class="form-section">
            <div class="form-section-title">
                <div class="form-section-icon" style="background-color: var(--accent-blue);">
                    <i class="fas fa-info-circle"></i>
                </div>
                <h3 class="text-lg font-semibold">Informations générales</h3>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label required">Titre de la formation</label>
                    <input formControlName="title" type="text" class="form-input"
                        placeholder="Ex: Leadership et management d'équipe">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['title'].invalid && (trainingForm.controls['title']).touched || trainingForm.controls['title'].dirty">
                        <span *ngIf="trainingForm.controls['title'].errors?.['required']">The title is required</span>
                        <span *ngIf="trainingForm.controls['title'].errors?.['minlength']">Min 3 characters
                            required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Catégorie</label>
                    <select class="form-select" formControlName="category">
                        <option value="" selected disabled>Sélectionner une catégorie</option>
                        <option value="management">Management</option>
                        <option value="informatique">Informatique</option>
                        <option value="communication">Communication</option>
                        <option value="finance">Finance</option>
                        <option value="langues">Langues</option>
                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['category'].invalid && (trainingForm.controls['category']).touched || trainingForm.controls['category'].dirty">
                        <span *ngIf="trainingForm.controls['category'].errors?.['required']">The category is
                            required</span>
                    </div>
                </div>

                <div class="form-group form-full-width">
                    <label class="form-label required">Description</label>
                    <textarea formControlName="description" class="form-textarea"
                        placeholder="Décrivez les objectifs et le contenu de la formation..."></textarea>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['description'].invalid && (trainingForm.controls['description']).touched || trainingForm.controls['description'].dirty">
                        <span *ngIf="trainingForm.controls['description'].errors?.['required']">A description is
                            required</span>
                        <span *ngIf="trainingForm.controls['description'].errors?.['minlength']">Min 10 characters
                            required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Durée (jours)</label>
                    <input formControlName="durationInDay" type="number" class="form-input" min="0.5" step="0.5"
                        value="1">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['durationInDay'].invalid && (trainingForm.controls['durationInDay']).touched || trainingForm.controls['durationInDay'].dirty">
                        <span *ngIf="trainingForm.controls['durationInDay'].errors?.['required']">The duration is required</span>
                        <span *ngIf="trainingForm.controls['durationInDay'].errors?.['min']">Minimum 1 day
                            required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Nombre d'heures</label>
                    <input formControlName="durationInHours" type="number" class="form-input" min="1" value="7">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['durationInHours'].invalid && (trainingForm.controls['durationInHours']).touched || trainingForm.controls['durationInHours'].dirty">
                        <span *ngIf="trainingForm.controls['durationInHours'].errors?.['required']">The duration is
                            required</span>
                        <span *ngIf="trainingForm.controls['durationInHours'].errors?.['min']">Minimum 1 hour
                            required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label required">Niveau</label>
                    <select formControlName="level" class="form-select">
                        <option value="" selected disabled>Sélectionner un niveau</option>
                        <option value="debutant">Debutant</option>
                        <option value="intermediaire">Intermediaire</option>
                        <option value="Expert">Expert</option>

                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['level'].invalid && (trainingForm.controls['level']).touched || trainingForm.controls['level'].dirty">
                        <span *ngIf="trainingForm.controls['level'].errors?.['required']">The level is required</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-section-title">
                <div class="form-section-icon" style="background-color: var(--accent-teal);">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3 class="text-lg font-semibold">Planification</h3>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label required">Date de début</label>
                    <input formControlName="dateDebut" type="date" class="form-input">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['dateDebut'].invalid && (trainingForm.controls['dateDebut']).touched || trainingForm.controls['dateDebut'].dirty">
                        <span *ngIf="trainingForm.controls['dateDebut'].errors?.['required']">The starting date is
                            required</span>
                    </div>
                </div>

                <!-- <div class="form-group">
                        <label class="form-label">Date de fin</label>
                        <input type="date" class="form-input">
                    </div> -->

                <div class="form-group">
                    <label class="form-label required">Lieu</label>
                    <select formControlName="location" class="form-select">
                        <option value="" selected disabled>Sélectionner un lieu</option>
                        <option value="salle_a">Salle de formation A</option>
                        <option value="salle_b">Salle de formation B</option>
                        <option value="externe">Site externe</option>
                        <option value="online">En ligne (visioconférence)</option>
                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['location'].invalid && (trainingForm.controls['location']).touched || trainingForm.controls['location'].dirty">
                        <span *ngIf="trainingForm.controls['location'].errors?.['required']">The location is
                            required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label required">Periode</label>
                    <select formControlName="periode" class="form-select">
                        <option value="" selected disabled>Sélectionner une période</option>
                        <option value="soiree">Cours du soir</option>
                        <option value="journee">Cours de jour</option>

                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['periode'].invalid && (trainingForm.controls['periode']).touched || trainingForm.controls['periode'].dirty">
                        <span *ngIf="trainingForm.controls['periode'].errors?.['required']">The period required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Places disponibles</label>
                    <input formControlName="numberOfPlaces" type="number" class="form-input" min="1" value="10">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['numberOfPlaces'].invalid && (trainingForm.controls['numberOfPlaces']).touched || trainingForm.controls['numberOfPlaces'].dirty">
                        <span *ngIf="trainingForm.controls['numberOfPlaces'].errors?.['required']">The number of places
                            is required</span>
                        <span *ngIf="trainingForm.controls['numberOfPlaces'].errors?.['min']">Minimum 1 person
                            required</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-section-title">
                <div class="form-section-icon" style="background-color: var(--accent-orange);">
                    <i class="fas fa-user-tie"></i>
                </div>
                <h3 class="text-lg font-semibold">Formateur</h3>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Type de formateur</label>
                    <select formControlName="typeFormateur" class="form-select">
                        <option value="" selected disabled>Sélectionner un type de formateur</option>
                        <option value="interne" selected>Formateur interne</option>
                        <option value="externe">Formateur externe</option>
                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['numberOfPlaces'].invalid && (trainingForm.controls['numberOfPlaces']).touched || trainingForm.controls['numberOfPlaces'].dirty">
                        <span *ngIf="trainingForm.controls['numberOfPlaces'].errors?.['required']">The number of places
                            is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Nom du formateur</label>
                    <input formControlName="nomFormateur" type="text" class="form-input" placeholder="Nom et prénom">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['nomFormateur'].invalid && (trainingForm.controls['nomFormateur']).touched || trainingForm.controls['nomFormateur'].dirty">
                        <span *ngIf="trainingForm.controls['nomFormateur'].errors?.['required']">The firstname and
                            lastnamw is required</span>
                        <span *ngIf="trainingForm.controls['nomFormateur'].errors?.['minlength']">Min 3 characters
                            required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input formControlName="emailFormateur" type="email" class="form-input"
                        placeholder="email@exemple.com">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['emailFormateur'].invalid && (trainingForm.controls['emailFormateur']).touched || trainingForm.controls['emailFormateur'].dirty">
                        <span *ngIf="trainingForm.controls['emailFormateur'].errors?.['required']">The email address is
                            required</span>
                        <span *ngIf="trainingForm.controls['emailFormateur'].errors?.['email']">Invalid email
                            format</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Téléphone</label>
                    <input formControlName="telephoneFormateur" type="tel" class="form-input"
                        placeholder="+237 000 000 000 ">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['telephoneFormateur'].invalid && (trainingForm.controls['telephoneFormateur']).touched || trainingForm.controls['telephoneFormateur'].dirty">
                        <span *ngIf="trainingForm.controls['telephoneFormateur'].errors?.['required']">The phone number
                            is required</span>
                        <span *ngIf="trainingForm.controls['telephoneFormateur'].errors?.['min']">Minimum 1 person
                            required</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-section-title">
                <div class="form-section-icon" style="background-color: var(--primary);">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h3 class="text-lg font-semibold">Documents et paramètres</h3>
            </div>

            <div class="form-grid">
                <div class="form-group form-full-width">
                    <label class="form-label">Support de formation</label>
                    <div
                        class="upload-container border-2 border-dashed border-gray-300 rounded p-4 flex flex-col items-center justify-center cursor-pointer relative">
                        <!-- Icône de téléchargement -->
                        <div class="upload-icon mb-2 text-gray-500 text-3xl">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <!-- Texte -->
                        <div class="mb-2 text-center">Glissez et déposez vos documents ici</div>
                        <div class="text-sm text-gray-500 mb-2">ou</div>

                        <!-- Bouton personnalisé -->
                        <label
                            class="btn btn-secondary mt-2 cursor-pointer px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center">
                            <i class="fas fa-folder-open mr-2"></i>
                            Parcourir les fichiers
                            <input formControlName="fichierFacultatif" type="file" class="hidden"
                                accept=".pdf,.pptx,.docx" multiple />
                        </label>

                        <!-- Infos sur formats -->
                        <div class="form-help mt-2 text-sm text-gray-500">Formats acceptés: PDF, PPT, DOCX (max: 20Mo)
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="form-label">Coût de la formation (Fcfa)</label>
                    <input formControlName="coutFormation" type="number" class="form-input" min="0" step="10000">
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['coutFormation'].invalid && (trainingForm.controls['coutFormation']).touched || trainingForm.controls['coutFormation'].dirty">
                        <span *ngIf="trainingForm.controls['coutFormation'].errors?.['required']">The cost of the
                            training is required</span>
                        <span *ngIf="trainingForm.controls['coutFormation'].errors?.['min']">Minimum required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Budget imputé</label>
                    <select formControlName="budgetImpute" class="form-select">
                        <option value="" selected disabled>Sélectionner un budget</option>
                        <option value="dept">Budget départemental</option>
                        <option value="company">Budget formation entreprise</option>
                        <option value="external">Financement externe</option>
                    </select>
                    <div class="" style="color: red;"
                        *ngIf="trainingForm.controls['budgetImpute'].invalid && (trainingForm.controls['budgetImpute']).touched || trainingForm.controls['budgetImpute'].dirty">
                        <span *ngIf="trainingForm.controls['budgetImpute'].errors?.['required']">The type of budget is
                            required</span>
                    </div>
                </div>

                <div class="form-group switch-container">
                    <!-- <div class="switch-label">
                            <div class="form-label mb-0">Visibilité dans le catalogue</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label> -->
                </div>

                <div class="form-group switch-container">
                    <div class="switch-label">
                        <div class="form-label mb-0">Inscription ouverte</div>
                    </div>
                    <label class="switch">
                        <input formControlName="inscriptionOuverte" type="checkbox">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>

        <div class="form-buttons">
            <button class="btn btn-secondary">
                <i class="fas fa-times"></i>
                Annuler
            </button>
            <button class="btn btn-primary">
                <i class="fas fa-save"></i>
                Enregistrer
            </button>
        </div>

    </form>
</div>